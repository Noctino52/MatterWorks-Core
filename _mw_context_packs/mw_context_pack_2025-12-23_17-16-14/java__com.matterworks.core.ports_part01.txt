=== BUNDLE: java__com.matterworks.core.ports_part01 ===
Created: 2025-12-23T17:16:23.5610986+01:00



--------------------------------
FILE: src\main\java\com\matterworks\core\ports\IMachineVisuals.java
--------------------------------
package com.matterworks.core.ports;

/**
 * Astrazione per effetti client-side (Particelle, Animazioni).
 * Definita nel namespace Core_Ports.
 */
public interface IMachineVisuals {
    void playAnimation(String animationName);
    void spawnParticle(String particleId);
}


--------------------------------
FILE: src\main\java\com\matterworks\core\ports\IRepository.java
--------------------------------
package com.matterworks.core.ports;

import com.matterworks.core.domain.machines.PlacedMachine;
import com.matterworks.core.domain.matter.MatterColor;
import com.matterworks.core.domain.player.PlayerProfile;
import com.matterworks.core.infrastructure.ServerConfig;
import com.matterworks.core.model.PlotObject;
import com.matterworks.core.common.GridPosition;

import java.util.List;
import java.util.Map;
import java.util.UUID;

public interface IRepository {

    // --- TRANSACTION LOGGING ---
    void logTransaction(PlayerProfile player, String actionType, String currency, double amount, String itemId);

    // --- CONFIG ---
    ServerConfig loadServerConfig();

    // --- PLAYER & PROFILE ---
    PlayerProfile loadPlayerProfile(UUID uuid);
    void savePlayerProfile(PlayerProfile profile);
    void deletePlayerFull(UUID uuid);
    List<PlayerProfile> getAllPlayers();

    // --- PLOT DATA ---
    List<PlotObject> loadPlotMachines(UUID ownerId);
    Long createMachine(UUID ownerId, PlacedMachine machine);
    void deleteMachine(Long dbId);
    void updateMachinesMetadata(List<PlacedMachine> machines);
    void clearPlotData(UUID ownerId);
    Long getPlotId(UUID ownerId);

    // --- RISORSE ---
    void saveResource(Long plotId, int x, int z, MatterColor type);
    Map<GridPosition, MatterColor> loadResources(Long plotId);

    // --- INVENTARIO ---
    int getInventoryItemCount(UUID ownerId, String itemId);
    void modifyInventoryItem(UUID ownerId, String itemId, int delta);

    // --- SESSIONS ---
    void openPlayerSession(UUID playerUuid);
    void closePlayerSession(UUID playerUuid);
}


--------------------------------
FILE: src\main\java\com\matterworks\core\ports\IWorldAccess.java
--------------------------------
package com.matterworks.core.ports;

import com.matterworks.core.common.GridPosition;
import com.matterworks.core.common.Vector3Int;

/**
 * Astrazione per toccare i blocchi di Hytale.
 * Definita nel namespace Core_Ports.
 */
public interface IWorldAccess {
    void setBlock(GridPosition pos, String blockId);
    boolean isBlockSolid(GridPosition pos);
    void createVisuals(GridPosition pos, String visualId);
    Vector3Int fetchExternalBlockDimensions(String blockId);
}
